---
import BaseLayout from "../../BaseLayout.astro";
import GridBanners from "../../components/GridBanners.astro";

const response = await fetch(`http://localhost:1337/api/main-page?populate%5BContent%5D%5Bpopulate%5D=%2A`).then(res => res.json());
const data = response.data;

---

    {
        data.attributes.Content.map( block =>
            <>
                {
                    (block?.MainSlider || block?.SideBanner) &&
                        <GridBanners
                            mainSliderData={block?.MainSlider}
                            sideBannersData={block?.SideBanner}
                        />
                }
            </>
        )
    }