---
import BaseLayout from "../BaseLayout.astro";
import GridBanners from "../components/GridBanners.astro";

const response = await fetch(`http://localhost:1337/api/main-page?populate%5BContent%5D%5Bpopulate%5D=%2A`).then(res => res.json());
const data = response.data;

---

<BaseLayout>
    {
        data.attributes.Content.map( block =>
            <>
                {
                    (block?.MainSlider || block?.SideBanner) &&
                        <GridBanners
                            mainSliderData={block?.MainSlider}
                            sideBannersData={block?.SideBanner}
                        />
                }
            </>
        )
    }
</BaseLayout>

<style lang="scss" >
    .mpp-headers {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 2;
        background-color: #FFFFFF;
    }
</style>